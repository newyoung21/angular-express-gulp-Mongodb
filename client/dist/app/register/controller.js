"use strict";!function(){angular.module("registerApp",["ngRoute"]).config(["$routeProvider",function(e){e.when("/register",{controller:"registerController",templateUrl:"/app/register/register.html"})}]).controller("registerController",["$scope","$location","$http",function(e,r,t){e.user={name:"",password:"",Tpassword:""},e.doRegister=function(n){return n?void t.post("http://localhost:3200/api/user/register",{user:{name:e.user.name,password:e.user.password}}).then(function(e){return alert("注册成功 ！"),r.path("/login")},function(e){alert("抱歉出错！")}):alert("请按规则填写 ！")}}]).directive("pwdRepeat",[function(){return{require:"ngModel",restrict:"A",link:function(e,r,t,n){n.$validators.pwdRepeat=function(r){return r===e.user.password}}}}]).directive("userName",["$q","$http",function(e,r){return{require:"ngModel",restrict:"A",link:function(t,n,o,i){i.$asyncValidators.userName=function(t){var n=e.defer();return r.get("http://localhost:3200/api/user/userName").then(function(e){for(var r=e.data,o=0;o<r.length;o++)if(r[o].name===t){console.log("正点");var i=!0;return n.reject()}i||n.resolve()},function(e){console.log("Dfdf")}),n.promise}}}}])}();